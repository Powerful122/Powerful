<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POWERFUL | Content Approval</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, doc, updateDoc, deleteDoc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- Global State ---
        let currentUser = null;
        let isWriterMode = false;
        let db = null;
        let auth = null;
        let appId = 'default-app-id';

        // --- DOM Elements ---
        const postsContainer = document.getElementById('posts-container');
        const fabBtn = document.getElementById('fab-add');
        const authToggleBtn = document.getElementById('auth-toggle');
        const changePassBtn = document.getElementById('change-pass-btn');
        const loadingIndicator = document.getElementById('loading');
        
        // Modals
        const categoryModal = document.getElementById('category-modal');
        const postModal = document.getElementById('post-modal');
        const contentModal = document.getElementById('content-modal');
        const loginModal = document.getElementById('login-modal');
        const passwordModal = document.getElementById('password-modal');

        // --- Initialization & Error Handling ---
        async function initApp() {
            try {
                if (typeof __firebase_config === 'undefined') {
                    throw new Error("Firebase configuration not found. If running locally, you must provide your own API keys.");
                }

                const firebaseConfig = JSON.parse(__firebase_config);
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
                appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }

                onAuthStateChanged(auth, (user) => {
                    currentUser = user;
                    if (user) {
                        setupRealtimeListener(user);
                        initializeSettings();
                    }
                });

            } catch (error) {
                console.error("Initialization Error:", error);
                loadingIndicator.innerHTML = `
                    <div class="text-red-600 bg-red-50 p-4 rounded-lg inline-block border border-red-200">
                        <i class="fa-solid fa-triangle-exclamation text-2xl mb-2"></i>
                        <h3 class="font-bold">System Error</h3>
                        <p class="text-sm mt-1">${error.message}</p>
                        <p class="text-xs text-gray-500 mt-2">Please check console for details.</p>
                    </div>
                `;
            }
        }

        initApp();

        // --- Firestore Logic ---

        async function initializeSettings() {
            if (!db) return;
            try {
                const settingsRef = doc(db, 'artifacts', appId, 'public', 'data', 'app_settings');
                const docSnap = await getDoc(settingsRef);
                if (!docSnap.exists()) {
                    await setDoc(settingsRef, { accessCode: 'admin123' });
                }
            } catch (e) {
                console.warn("Could not init settings (might be offline):", e);
            }
        }

        function setupRealtimeListener(user) {
            if (!db) return;
            const q = collection(db, 'artifacts', appId, 'public', 'data', 'content_posts');

            onSnapshot(q, (snapshot) => {
                loadingIndicator.classList.add('hidden');
                postsContainer.innerHTML = '';
                
                const posts = [];
                snapshot.forEach((doc) => {
                    posts.push({ id: doc.id, ...doc.data() });
                });

                posts.sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0));

                if (posts.length === 0) {
                    postsContainer.innerHTML = `
                        <div class="col-span-full text-center py-20 opacity-50">
                            <i class="fa-regular fa-folder-open text-4xl mb-4"></i>
                            <p>No content posted yet.</p>
                        </div>
                    `;
                }

                posts.forEach(post => {
                    renderPostCard(post);
                });
            }, (error) => {
                console.error("Error fetching posts:", error);
                loadingIndicator.innerText = "Error loading content. Please refresh.";
            });
        }

        // --- Rendering ---
        function renderPostCard(post) {
            const card = document.createElement('div');
            card.className = "bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all hover:shadow-md flex flex-col";
            
            // Status Logic
            let statusColor = "bg-gray-100 text-gray-600";
            let statusText = "Pending Review";
            
            if (post.status === 'approved') {
                statusColor = "bg-green-100 text-green-700";
                statusText = "Approved";
            } else if (post.status === 'rejected') {
                statusColor = "bg-red-100 text-red-700";
                statusText = "Changes Requested";
            }

            // Graphic/Mockup Section
            let graphicHtml = '';
            if (post.graphicUrl) {
                graphicHtml = `
                    <div class="w-full h-48 bg-gray-50 border-b border-gray-100 flex items-center justify-center overflow-hidden group cursor-pointer relative" onclick="window.open('${post.graphicUrl}', '_blank')">
                        <img src="${post.graphicUrl}" alt="Mockup" class="w-full h-full object-cover" onerror="this.onerror=null; this.src='https://placehold.co/600x400?text=Graphic+Link+Broken'">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all flex items-center justify-center">
                            <span class="opacity-0 group-hover:opacity-100 bg-white px-3 py-1 rounded-full text-xs font-bold shadow">View Original</span>
                        </div>
                    </div>
                `;
            } else {
                 graphicHtml = `
                    <div class="w-full h-12 bg-gray-50 border-b border-gray-100 flex items-center justify-center text-xs text-gray-400">
                        No Graphic Attached
                    </div>
                `;
            }

            // Client Controls HTML
            const clientControls = `
                <div class="mt-4 pt-4 border-t border-gray-100">
                    <label class="block text-xs font-semibold text-[#00346e] uppercase tracking-wider mb-2">Client Approval</label>
                    <div class="flex gap-3 mb-3">
                        <button onclick="updatePostStatus('${post.id}', 'approved')" class="flex-1 py-2 rounded-lg border ${post.status === 'approved' ? 'bg-green-600 text-white border-green-600' : 'bg-white text-gray-600 border-gray-200 hover:border-green-400 hover:text-green-600'} transition-colors flex items-center justify-center gap-2">
                            <i class="fa-solid fa-check"></i> Approve
                        </button>
                        <button onclick="updatePostStatus('${post.id}', 'rejected')" class="flex-1 py-2 rounded-lg border ${post.status === 'rejected' ? 'bg-red-600 text-white border-red-600' : 'bg-white text-gray-600 border-gray-200 hover:border-red-400 hover:text-red-600'} transition-colors flex items-center justify-center gap-2">
                            <i class="fa-solid fa-xmark"></i> Changes
                        </button>
                    </div>
                    <div class="relative">
                        <textarea 
                            id="comment-${post.id}"
                            placeholder="Add your comments or feedback here..." 
                            class="w-full text-sm p-3 bg-[#fdf9f3] rounded-lg border border-gray-200 focus:border-[#00418b] focus:ring-1 focus:ring-[#00418b] outline-none resize-none h-20 transition-all"
                            onchange="saveComment('${post.id}', this.value)"
                        >${post.clientComment || ''}</textarea>
                        <div class="absolute bottom-2 right-2 text-[10px] text-gray-400 italic">Auto-saves</div>
                    </div>
                </div>
            `;

            // Admin Controls
            const adminControls = isWriterMode ? `
                <div class="absolute top-2 right-2 flex gap-1 z-10">
                    <button onclick="openEditModal('${post.id}', '${encodeURIComponent(JSON.stringify(post))}')" class="w-8 h-8 rounded-full bg-white shadow text-gray-600 hover:text-[#00418b] flex items-center justify-center transition-transform hover:scale-110">
                        <i class="fa-solid fa-pen"></i>
                    </button>
                    <button onclick="deletePost('${post.id}')" class="w-8 h-8 rounded-full bg-white shadow text-gray-600 hover:text-red-600 flex items-center justify-center transition-transform hover:scale-110">
                        <i class="fa-solid fa-trash"></i>
                    </button>
                </div>
            ` : '';

            card.innerHTML = `
                <div class="relative ${post.status === 'rejected' ? 'border-l-4 border-l-red-500' : (post.status === 'approved' ? 'border-l-4 border-l-green-500' : '')}">
                    ${graphicHtml}
                    ${adminControls}
                    
                    <div class="p-5 flex-1 flex flex-col">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h3 class="font-bold text-[#00346e] text-lg leading-tight mb-1">${post.title || 'Untitled Post'}</h3>
                                <span class="inline-block px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide ${statusColor}">
                                    ${statusText}
                                </span>
                            </div>
                        </div>

                        <div class="mb-4 group cursor-pointer" onclick="openContentOverlay('${encodeURIComponent(post.content)}', '${encodeURIComponent(post.title)}')">
                            <div class="text-sm text-gray-600 line-clamp-3 bg-white p-3 rounded border border-dashed border-gray-300 group-hover:border-[#00418b] group-hover:bg-[#fdf9f3] transition-colors relative">
                                ${post.content || 'No content text...'}
                                <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-white/80 font-medium text-[#00418b]">
                                    <i class="fa-regular fa-copy mr-2"></i> Click to View & Copy
                                </div>
                            </div>
                        </div>

                        ${clientControls}
                    </div>
                </div>
            `;

            postsContainer.appendChild(card);
        }

        // --- Window Actions (Defined globally to ensure button clicks work) ---

        window.updatePostStatus = async (postId, newStatus) => {
            if (!db) return showToast("Database not connected", "error");
            try {
                const ref = doc(db, 'artifacts', appId, 'public', 'data', 'content_posts', postId);
                await updateDoc(ref, { status: newStatus });
            } catch (e) {
                console.error("Error updating status", e);
                showToast("Error updating status", "error");
            }
        };

        window.saveComment = async (postId, comment) => {
            if (!db) return;
            try {
                const ref = doc(db, 'artifacts', appId, 'public', 'data', 'content_posts', postId);
                await updateDoc(ref, { clientComment: comment });
                showToast("Comment saved", "success");
            } catch (e) {
                console.error("Error saving comment", e);
            }
        };

        window.deletePost = async (postId) => {
            if (!db) return;
            if(!confirm("Are you sure you want to delete this post?")) return;
            try {
                await deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'content_posts', postId));
                showToast("Post deleted", "success");
            } catch (e) {
                console.error(e);
                showToast("Error deleting", "error");
            }
        };

        window.handlePostSubmit = async (e) => {
            e.preventDefault();
            if (!db) return showToast("Database not connected", "error");

            const title = document.getElementById('post-title').value;
            const content = document.getElementById('post-content').value;
            const graphicUrl = document.getElementById('post-graphic').value;
            const editId = document.getElementById('post-edit-id').value;

            const data = {
                title,
                content,
                graphicUrl,
                updatedAt: Date.now()
            };

            try {
                if (editId) {
                    await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'content_posts', editId), data);
                    showToast("Post updated successfully", "success");
                } else {
                    data.createdAt = Date.now();
                    data.status = 'pending';
                    data.clientComment = '';
                    await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'content_posts'), data);
                    showToast("New post created", "success");
                }
                closeModal('post-modal');
                e.target.reset();
            } catch (err) {
                console.error(err);
                showToast("Error saving post", "error");
            }
        };

        // --- Admin/Security Actions ---

        window.attemptLogin = async (e) => {
            e.preventDefault();
            const inputCode = document.getElementById('admin-code-input').value;
            const btn = document.getElementById('login-btn');
            
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Checking...';

            try {
                let correctCode = 'admin123'; // Default fallback

                if (db) {
                    try {
                        const settingsRef = doc(db, 'artifacts', appId, 'public', 'data', 'app_settings');
                        const docSnap = await getDoc(settingsRef);
                        if (docSnap.exists()) {
                            correctCode = docSnap.data().accessCode;
                        }
                    } catch (dbErr) {
                        console.warn("DB check failed, using fallback:", dbErr);
                        // Fallback remains 'admin123'
                    }
                } else {
                    console.warn("No DB connection, using default code.");
                }

                if (inputCode === correctCode) {
                    activateWriterMode();
                    closeModal('login-modal');
                    document.getElementById('admin-code-input').value = '';
                    showToast("Welcome back, Admin!", "success");
                } else {
                    showToast("Incorrect Access Code", "error");
                }
            } catch (err) {
                console.error(err);
                showToast("Login System Error", "error");
            } finally {
                btn.innerHTML = 'Unlock Admin Access';
            }
        };

        window.handlePasswordChange = async (e) => {
            e.preventDefault();
            if (!db) return showToast("Database not connected", "error");
            
            const newCode = document.getElementById('new-password').value;
            const confirmCode = document.getElementById('confirm-password').value;

            if (newCode.length < 4) {
                showToast("Password is too short", "error");
                return;
            }
            if (newCode !== confirmCode) {
                showToast("Passwords do not match", "error");
                return;
            }

            try {
                const settingsRef = doc(db, 'artifacts', appId, 'public', 'data', 'app_settings');
                await setDoc(settingsRef, { accessCode: newCode }, { merge: true });
                showToast("Access Code Updated Successfully", "success");
                closeModal('password-modal');
                document.getElementById('new-password').value = '';
                document.getElementById('confirm-password').value = '';
            } catch (err) {
                console.error(err);
                showToast("Error updating password", "error");
            }
        };

        function activateWriterMode() {
            isWriterMode = true;
            fabBtn.classList.remove('hidden');
            changePassBtn.classList.remove('hidden');
            document.body.classList.add('writer-mode');
            authToggleBtn.innerHTML = '<i class="fa-solid fa-lock-open text-green-400"></i>';
            authToggleBtn.title = "Logout";
            authToggleBtn.onclick = deactivateWriterMode;
            
            // Force refresh UI
            if(currentUser) setupRealtimeListener(currentUser); 
        }

        function deactivateWriterMode() {
            isWriterMode = false;
            fabBtn.classList.add('hidden');
            changePassBtn.classList.add('hidden');
            document.body.classList.remove('writer-mode');
            authToggleBtn.innerHTML = '<i class="fa-solid fa-lock"></i>';
            authToggleBtn.title = "Writer Login";
            authToggleBtn.onclick = openLoginModal;
            showToast("Logged out of Admin Mode", "neutral");
            if(currentUser) setupRealtimeListener(currentUser);
        }

        // --- Modal & UI Logic ---

        window.openEditModal = (id, encodedPost) => {
            const post = JSON.parse(decodeURIComponent(encodedPost));
            document.getElementById('post-title').value = post.title;
            document.getElementById('post-content').value = post.content;
            document.getElementById('post-graphic').value = post.graphicUrl || '';
            document.getElementById('post-edit-id').value = id;
            document.getElementById('modal-title').innerText = "Edit Content";
            postModal.showModal();
        };

        window.openAddModal = () => {
            const form = document.getElementById('post-form');
            if (form) {
                form.reset();
            }
            document.getElementById('post-edit-id').value = '';
            document.getElementById('modal-title').innerText = "New Content";
            postModal.showModal();
        };

        window.openContentOverlay = (encodedContent, encodedTitle) => {
            const content = decodeURIComponent(encodedContent);
            const title = decodeURIComponent(encodedTitle);
            document.getElementById('overlay-title').innerText = title;
            document.getElementById('overlay-content').innerText = content;
            contentModal.showModal();
        };

        window.openLoginModal = () => {
            loginModal.showModal();
            // Small delay to ensure modal is rendered before focusing
            setTimeout(() => {
                const input = document.getElementById('admin-code-input');
                if(input) input.focus();
            }, 100);
        };

        window.openPasswordModal = () => {
            passwordModal.showModal();
        };

        window.copyContent = () => {
            const text = document.getElementById('overlay-content').innerText;
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            
            const btn = document.getElementById('copy-btn');
            const originalHTML = btn.innerHTML;
            btn.innerHTML = `<i class="fa-solid fa-check"></i> Copied!`;
            btn.classList.add('bg-green-600', 'border-green-600', 'text-white');
            
            setTimeout(() => {
                btn.innerHTML = originalHTML;
                btn.classList.remove('bg-green-600', 'border-green-600', 'text-white');
            }, 2000);
        };

        window.closeModal = (modalId) => {
            document.getElementById(modalId).close();
        };

        window.toggleCategories = () => {
            if (categoryModal) {
                categoryModal.showModal();
            } else {
                console.error("Category modal not found");
            }
        };

        // --- Toast Notification ---
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `fixed bottom-5 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full text-white text-sm font-medium shadow-lg transition-all duration-300 translate-y-10 opacity-0 z-50 flex items-center gap-2`;
            
            if (type === 'success') toast.classList.add('bg-[#00418b]');
            else if (type === 'error') toast.classList.add('bg-red-600');
            else toast.classList.add('bg-gray-800');

            toast.innerHTML = `<span>${message}</span>`;
            document.body.appendChild(toast);

            requestAnimationFrame(() => {
                toast.classList.remove('translate-y-10', 'opacity-0');
            });

            setTimeout(() => {
                toast.classList.add('translate-y-10', 'opacity-0');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

    </script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fdf9f3; }
        
        /* Custom scrollbar for textareas */
        textarea::-webkit-scrollbar { width: 6px; }
        textarea::-webkit-scrollbar-track { background: transparent; }
        textarea::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
        
        dialog {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        dialog::backdrop {
            background: rgba(0, 52, 110, 0.4);
            backdrop-filter: blur(2px);
        }
        dialog[open] {
            animation: fadeIn 0.2s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="text-gray-800 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-[#00346e] text-white shadow-lg sticky top-0 z-40">
        <div class="max-w-6xl mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-4">
                <!-- Branding -->
                <div class="w-12 h-12 bg-white rounded-lg flex items-center justify-center text-[#00346e] font-bold text-2xl shadow-inner">
                    <i class="fa-solid fa-feather-pointed"></i>
                </div>
                <div>
                    <h1 class="font-bold text-2xl tracking-wider uppercase">POWERFUL</h1>
                    <p class="text-xs text-blue-200 tracking-wide">Content Approval & Management</p>
                </div>
            </div>

            <button onclick="toggleCategories()" class="bg-[#00418b] hover:bg-[#006fc6] text-white px-5 py-2.5 rounded-full text-sm font-semibold shadow-lg transition-transform hover:scale-105 border border-blue-400/30 flex items-center gap-2">
                <i class="fa-solid fa-layer-group"></i> See Our Content Categories
            </button>
        </div>
    </header>

    <!-- Intro Section -->
    <div class="bg-white border-b border-gray-200">
        <div class="max-w-6xl mx-auto px-4 py-8 text-center">
            <h2 class="text-2xl font-bold text-[#00346e] mb-2">Welcome to the Approval Dashboard</h2>
            <p class="text-gray-600 max-w-2xl mx-auto">
                Here you can review the latest content drafts. Use the approval controls to sign off on posts or leave feedback for revisions. 
                Click on the text content to copy it directly.
            </p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-grow p-4 md:p-8">
        <div class="max-w-6xl mx-auto">
            
            <!-- Loading State -->
            <div id="loading" class="text-center py-20 text-[#00418b]">
                <i class="fa-solid fa-circle-notch fa-spin text-4xl mb-4"></i>
                <p>Loading posts...</p>
            </div>

            <!-- Posts Grid -->
            <div id="posts-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Dynamic Content Here -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-[#00346e] text-blue-200 py-8 mt-12 border-t border-blue-900">
        <div class="max-w-6xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-4">
            
            <!-- Admin Toggles -->
            <div class="flex gap-4 items-center">
                 <button id="auth-toggle" onclick="openLoginModal()" class="p-2 hover:text-white transition-colors opacity-70 hover:opacity-100 flex items-center gap-2 text-xs" title="Writer Login">
                    <i class="fa-solid fa-lock"></i> <span class="hidden md:inline">Admin Access</span>
                </button>
                <button id="change-pass-btn" onclick="openPasswordModal()" class="hidden text-xs hover:text-white underline opacity-70 hover:opacity-100">
                    Change Password
                </button>
            </div>

            <!-- Copyright -->
            <div class="text-xs font-light text-center">
                &copy; 2023 POWERFUL. All rights reserved.
            </div>

            <!-- Social Icons -->
            <div class="flex gap-4 text-lg">
                <a href="#" class="hover:text-white transition-colors hover:scale-110 transform"><i class="fa-brands fa-youtube"></i></a>
                <a href="#" class="hover:text-white transition-colors hover:scale-110 transform"><i class="fa-brands fa-twitter"></i></a>
                <a href="#" class="hover:text-white transition-colors hover:scale-110 transform"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="#" class="hover:text-white transition-colors hover:scale-110 transform"><i class="fa-solid fa-globe"></i></a>
            </div>
        </div>
    </footer>

    <!-- FAB (Writer Only) -->
    <button id="fab-add" onclick="openAddModal()" class="hidden fixed bottom-8 right-8 w-14 h-14 bg-[#006fc6] hover:bg-[#00418b] text-white rounded-full shadow-xl flex items-center justify-center text-2xl transition-transform hover:scale-110 z-30">
        <i class="fa-solid fa-plus"></i>
    </button>

    <!-- Category Modal -->
    <dialog id="category-modal" class="rounded-2xl shadow-2xl p-0 w-full max-w-2xl bg-white overflow-hidden z-50">
        <div class="bg-[#00346e] p-6 text-white flex justify-between items-center">
            <h3 class="text-xl font-bold"><i class="fa-solid fa-tags mr-2"></i> Content Categories</h3>
            <button onclick="closeModal('category-modal')" class="text-white hover:text-red-300 transition-colors">
                <i class="fa-solid fa-times text-xl"></i>
            </button>
        </div>
        <div class="p-8 overflow-y-auto max-h-[70vh] space-y-6 text-gray-700 leading-relaxed">
            <div class="bg-[#fdf9f3] p-6 rounded-xl border-l-4 border-[#006fc6]">
                <h4 class="font-bold text-[#00346e] text-lg mb-2">Marketing & Outreach Content</h4>
                <p class="mb-4">This content is designed to attract, engage, and convert a broad audience.</p>
                
                <h5 class="font-semibold text-[#00418b] mt-4 mb-2"><i class="fa-solid fa-blog mr-1"></i> Blog Posts / Articles:</h5>
                <ul class="list-disc pl-5 space-y-1 text-sm">
                    <li><strong class="text-gray-900">Educational:</strong> "DeFi 101," "What is RWA Tokenization," or "How Lending Protocols Use Oracles."</li>
                    <li><strong class="text-gray-900">SEO-Focused:</strong> Targeting high-volume search terms like "best DeFi yield" or "tokenized real estate platforms."</li>
                    <li><strong class="text-gray-900">Thought Leadership:</strong> Commentary on market trends, regulatory changes, or the future of decentralized finance.</li>
                </ul>

                <h5 class="font-semibold text-[#00418b] mt-4 mb-2"><i class="fa-brands fa-twitter mr-1"></i> Social Media Posts (Tweets/X Posts, LinkedIn, Telegram):</h5>
                <ul class="list-disc pl-5 space-y-1 text-sm">
                    <li><strong class="text-gray-900">Threads:</strong> Long-form, sequential posts breaking down complex protocol updates, tokenomics, or market analysis.</li>
                    <li><strong class="text-gray-900">Daily Engagement:</strong> Short, punchy posts, questions, and replies to drive community interaction.</li>
                    <li><strong class="text-gray-900">Visual Copy:</strong> Captions and headlines for infographics and short-form videos.</li>
                </ul>

                <h5 class="font-semibold text-[#00418b] mt-4 mb-2"><i class="fa-solid fa-globe mr-1"></i> Website Copy / Landing Page Copy:</h5>
                <p class="text-sm italic text-gray-500">Targeted copy to improve conversion rates and explain value propositions clearly.</p>
            </div>
        </div>
        <div class="bg-gray-50 p-4 border-t border-gray-100 text-right">
            <button onclick="closeModal('category-modal')" class="px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition-colors">Close</button>
        </div>
    </dialog>

    <!-- Post Edit/Create Modal -->
    <dialog id="post-modal" class="rounded-xl shadow-2xl p-0 w-full max-w-lg bg-white z-50">
        <form onsubmit="handlePostSubmit(event)" id="post-form">
            <div class="p-6">
                <h3 id="modal-title" class="text-xl font-bold text-[#00346e] mb-4">New Content</h3>
                <input type="hidden" id="post-edit-id">
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Post Title</label>
                        <input type="text" id="post-title" required class="w-full p-2 border border-gray-300 rounded focus:ring-[#00418b] focus:border-[#00418b]">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Content Body</label>
                        <textarea id="post-content" required rows="6" class="w-full p-2 border border-gray-300 rounded focus:ring-[#00418b] focus:border-[#00418b]"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Graphic URL (Optional)</label>
                        <input type="url" id="post-graphic" placeholder="https://..." class="w-full p-2 border border-gray-300 rounded focus:ring-[#00418b] focus:border-[#00418b]">
                        <p class="text-xs text-gray-500 mt-1">Paste a direct link to an image (png/jpg).</p>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 p-4 flex justify-end gap-3 rounded-b-xl">
                <button type="button" onclick="closeModal('post-modal')" class="px-4 py-2 text-gray-600 hover:text-gray-800">Cancel</button>
                <button type="submit" class="px-6 py-2 bg-[#00418b] hover:bg-[#00346e] text-white rounded shadow transition-colors">Save Content</button>
            </div>
        </form>
    </dialog>

    <!-- Content View/Copy Modal -->
    <dialog id="content-modal" class="rounded-xl shadow-2xl p-0 w-full max-w-3xl bg-white z-50">
        <div class="bg-gray-50 border-b border-gray-200 p-4 flex justify-between items-center sticky top-0">
            <h3 id="overlay-title" class="text-lg font-bold text-[#00346e] truncate pr-4">Content View</h3>
            <button onclick="closeModal('content-modal')" class="text-gray-400 hover:text-gray-600">
                <i class="fa-solid fa-times text-xl"></i>
            </button>
        </div>
        <div class="p-8 bg-white min-h-[300px]">
            <div id="overlay-content" class="text-gray-800 text-lg leading-relaxed whitespace-pre-wrap font-serif"></div>
        </div>
        <div class="p-4 border-t border-gray-200 bg-gray-50 flex justify-end">
            <button id="copy-btn" onclick="copyContent()" class="px-6 py-2 border border-[#00418b] text-[#00418b] hover:bg-[#00418b] hover:text-white rounded-lg font-medium transition-all flex items-center gap-2">
                <i class="fa-regular fa-copy"></i> Copy to Clipboard
            </button>
        </div>
    </dialog>

    <!-- Login Modal -->
    <dialog id="login-modal" class="rounded-xl shadow-2xl p-0 w-full max-w-sm bg-white z-50">
        <form onsubmit="attemptLogin(event)" class="p-6">
            <div class="text-center mb-6">
                <div class="w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-2 text-[#00346e]">
                    <i class="fa-solid fa-lock text-xl"></i>
                </div>
                <h3 class="text-xl font-bold text-[#00346e]">Admin Access</h3>
                <p class="text-xs text-gray-500">Enter your team access code.</p>
            </div>
            
            <div class="mb-4">
                <input type="password" id="admin-code-input" placeholder="Access Code (Default: admin123)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-[#00418b] focus:border-[#00418b] text-center tracking-widest">
            </div>

            <div class="flex gap-2">
                <button type="button" onclick="closeModal('login-modal')" class="flex-1 py-2 text-gray-500 hover:bg-gray-100 rounded-lg">Cancel</button>
                <button type="submit" id="login-btn" class="flex-1 py-2 bg-[#00418b] text-white rounded-lg hover:bg-[#00346e] shadow-lg">Unlock</button>
            </div>
        </form>
    </dialog>

    <!-- Change Password Modal -->
    <dialog id="password-modal" class="rounded-xl shadow-2xl p-0 w-full max-w-sm bg-white z-50">
        <form onsubmit="handlePasswordChange(event)" class="p-6">
            <h3 class="text-lg font-bold text-[#00346e] mb-4 border-b pb-2">Change Team Access Code</h3>
            
            <div class="space-y-4 mb-6">
                <div>
                    <label class="block text-xs font-bold text-gray-600 mb-1">New Access Code</label>
                    <input type="password" id="new-password" required class="w-full p-2 border border-gray-300 rounded focus:ring-[#00418b] focus:border-[#00418b]">
                </div>
                <div>
                    <label class="block text-xs font-bold text-gray-600 mb-1">Confirm Code</label>
                    <input type="password" id="confirm-password" required class="w-full p-2 border border-gray-300 rounded focus:ring-[#00418b] focus:border-[#00418b]">
                </div>
            </div>

            <div class="flex justify-end gap-2">
                <button type="button" onclick="closeModal('password-modal')" class="px-4 py-2 text-gray-500 hover:bg-gray-100 rounded">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 shadow">Update Code</button>
            </div>
        </form>
    </dialog>

</body>
</html>
